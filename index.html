<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Conduit Size Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    select, input { margin: 5px; padding: 5px; }
    table { border-collapse: collapse; width: 100%; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #f0f0f0; }
    .hidden { display: none; }
    .summary-box {
      background: #cfe2f3;
      padding: 15px;
      margin-top: 20px;
      border: 2px solid #000;
      text-align: center;
    }
  </style>
</head>
<body>

  <h2>Conduit Size Calculator</h2>

  <label>Calculator Type:
    <select id="calcType" onchange="toggleTables()">
      <option value="electrical">Electrical</option>
      <option value="auxiliary">Auxiliary</option>
      <option value="both">Both</option>
    </select>
  </label>

  <div id="electricalTable">
    <h3>Electrical Conductors</h3>
    <table>
      <thead>
        <tr><th>No. of Conductors</th><th>Size</th><th>Type</th><th>Area</th></tr>
      </thead>
      <tbody id="electricalBody">
        <tr>
          <td><input type="number" value="1" onchange="calculateTotal()"></td>
          <td>
            <select onchange="calculateTotal()">
              <option value="2AWG">2AWG</option>
              <option value="250Kcmil">250Kcmil</option>
            </select>
          </td>
          <td>
            <select onchange="calculateTotal()">
              <option value="THHN">THHN</option>
              <option value="THW">THW</option>
            </select>
          </td>
          <td class="area">0</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="auxiliaryTable" class="hidden">
    <h3>Auxiliary Cables</h3>
    <table>
      <thead>
        <tr><th>No. of Cables</th><th>Type</th><th>Size</th><th>Area</th></tr>
      </thead>
      <tbody id="auxBody">
        <tr>
          <td><input type="number" value="1" onchange="calculateTotal()"></td>
          <td>
            <select onchange="calculateTotal()">
              <option value="Fiber">Fiber</option>
              <option value="LV">LV</option>
            </select>
          </td>
          <td>
            <select onchange="calculateTotal()">
              <option value="2f">2f</option>
              <option value="CAT5">CAT5</option>
            </select>
          </td>
          <td class="area">0</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="summary-box">
    <div><strong>Total Area:</strong> <span id="totalArea">0</span></div>
    <div><strong>Conduit Type:</strong>
      <select id="conduitType">
        <option value="RMC">RMC</option>
        <option value="EMT">EMT</option>
        <option value="IMC">IMC</option>
      </select>
    </div>
    <div><strong>Minimum Conduit Size:</strong> <span id="minSize">--</span></div>
  </div>

  <script>
    const areaLookup = {
      '2AWG': 0.1158,
      '250Kcmil': 0.4596,
      'Fiber-2f': 0.0266,
      'LV-CAT5': 0.0346
    };

    function toggleTables() {
      const type = document.getElementById('calcType').value;
      document.getElementById('electricalTable').classList.toggle('hidden', type === 'auxiliary');
      document.getElementById('auxiliaryTable').classList.toggle('hidden', type === 'electrical');
      calculateTotal();
    }

    function calculateTotal() {
      let total = 0;

      document.querySelectorAll('#electricalTable tbody tr').forEach(row => {
        const qty = parseInt(row.cells[0].querySelector('input').value) || 0;
        const size = row.cells[1].querySelector('select').value;
        const key = size;
        const area = areaLookup[key] || 0;
        const rowArea = qty * area;
        row.cells[3].textContent = rowArea.toFixed(4);
        total += rowArea;
      });

      document.querySelectorAll('#auxiliaryTable tbody tr').forEach(row => {
        const qty = parseInt(row.cells[0].querySelector('input').value) || 0;
        const type = row.cells[1].querySelector('select').value;
        const size = row.cells[2].querySelector('select').value;
        const key = `${type}-${size}`;
        const area = areaLookup[key] || 0;
        const rowArea = qty * area;
        row.cells[3].textContent = rowArea.toFixed(4);
        total += rowArea;
      });

      document.getElementById('totalArea').textContent = total.toFixed(3);

      const minSize = (total <= 2.0) ? '1"' : (total <= 3.5 ? '2"' : (total <= 6.0 ? '3"' : '5"'));
      document.getElementById('minSize').textContent = minSize;
    }

    window.onload = calculateTotal;
  </script>
</body>
</html>

